<!DOCTYPE html>
<html>
<head>
  <title>Student Registration</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <div class="card">
      <h2>Registration</h2>
      <p>Student Registration</p>

      <form id="registrationForm">
        <!-- Email or Phone -->
        <input
          type="text"
          name="email_Phone"
          placeholder="Email or Phone Number"
          required
        >

        <!-- Password -->
        <input
          type="password"
          name="password"
          placeholder="Password"
          required
        >

        <button type="submit">Register</button>
      </form>

      <p id="msg"></p>
    </div>
  </div>

  <script>
  const form = document.getElementById("registrationForm");
  const msg = document.getElementById("msg");

  const url = "https://script.google.com/macros/s/AKfycbx-oGNtZjcHJvHtbZxDjahPKhYE7mgaJdy3r9vJII6JTDu2r3B6SV47cWu9pOF3NuqoNQ/exec";

  form.addEventListener("submit", function (e) {
    e.preventDefault();

    const data = new FormData(form);

    fetch(url, {
      method: "POST",
      body: data
    })
    .then(res => res.json())
    .then(res => {
      console.log(res); // ðŸ‘ˆ DEBUG

      if (res.result === "success") {
        msg.innerText = "Registration successful!";
        msg.style.color = "green";
        form.reset();
      } else {
        msg.innerText = "Submission failed!";
        msg.style.color = "red";
      }
    })
    .catch(err => {
      console.error("Fetch error:", err);
      msg.innerText = "Server error!";
      msg.style.color = "red";
    });
  });
</script>

</body>
</html>
